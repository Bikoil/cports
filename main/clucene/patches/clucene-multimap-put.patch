--- a/src/core/CLucene/util/VoidMap.h
+++ b/src/core/CLucene/util/VoidMap.h
@@ -321,6 +321,7 @@ public:
 		if ( _this::dk || _this::dv )
 			_this::remove(k);
 
+		(*this)[k] = v;
 	}
 };
 
